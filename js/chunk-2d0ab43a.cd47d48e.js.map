{"version":3,"sources":["webpack:///./src/views/User.vue?1d8f","webpack:///./src/components/UserProfileCard.vue?ad3f","webpack:///src/components/UserProfileCard.vue","webpack:///./src/components/UserProfileCard.vue?4e56","webpack:///./src/components/UserProfileCard.vue","webpack:///./src/components/UserFollowingsCard.vue?2465","webpack:///src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowingsCard.vue?1afc","webpack:///./src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowersCard.vue?d9ff","webpack:///src/components/UserFollowersCard.vue","webpack:///./src/components/UserFollowersCard.vue?35dd","webpack:///./src/components/UserFollowersCard.vue","webpack:///./src/components/UserCommentsCard.vue?6862","webpack:///src/components/UserCommentsCard.vue","webpack:///./src/components/UserCommentsCard.vue?438b","webpack:///./src/components/UserCommentsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?ea63","webpack:///src/components/UserFavoritedRestaurantsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?042f","webpack:///./src/components/UserFavoritedRestaurantsCard.vue","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?c7ea","webpack:///./src/views/User.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","user","currentUser","Followers","Followings","Comments","FavoritedRestaurants","staticRenderFns","_f","userProfile","image","_v","_s","name","email","length","staticStyle","id","params","on","$event","stopPropagation","preventDefault","follow","unFollow","mixins","props","initialUserprofile","type","required","data","methods","userId","userAPI","Toast","icon","title","isFollowed","watch","newValue","component","userFollowings","_l","following","key","default","userFollowers","follower","userComments","comment","RestaurantId","Restaurant","userFavoritedrestaurants","restaurant","components","UserProfileCard","UserFollowingsCard","UserFollowersCard","UserCommentsCard","UserFavoritedRestaurantsCard","computed","mapState","fetchUser","statusText","profile","created","beforeRouteUpdate","to","from","next"],"mappings":"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","file":"js/chunk-2d0ab43a.cd47d48e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"album py-5 bg-light\"},[_c('div',{staticClass:\"container\"},[_c('UserProfileCard',{attrs:{\"initial-userprofile\":_vm.user,\"current-user\":_vm.currentUser}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('UserFollowersCard',{attrs:{\"user-followers\":_vm.user.Followers}}),_c('br'),_c('UserFollowingsCard',{attrs:{\"user-followings\":_vm.user.Followings}})],1),_c('div',{staticClass:\"col-md-8\"},[_c('UserCommentsCard',{attrs:{\"user-comments\":_vm.user.Comments}}),_c('br'),_c('UserFavoritedRestaurantsCard',{attrs:{\"user-favoritedrestaurants\":_vm.user.FavoritedRestaurants}})],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col-md-4\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.userProfile.image),\"width\":\"300px\",\"height\":\"300px\"}})]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.userProfile.name)+\" \")]),_c('p',{staticClass:\"card-text\"},[_vm._v(\" \"+_vm._s(_vm.userProfile.email)+\" \")]),_c('ul',{staticClass:\"list-unstyled list-inline\"},[_c('li',[_c('strong',[_vm._v(\" \"+_vm._s(_vm.userProfile.Comments.length)+\" \")]),_vm._v(\" 已評論餐廳 \")]),_c('li',[_c('strong',[_vm._v(\" \"+_vm._s(_vm.userProfile.FavoritedRestaurants.length)+\" \")]),_vm._v(\" 收藏的餐廳 \")]),_c('li',[_c('strong',[_vm._v(\" \"+_vm._s(_vm.userProfile.Followings.length)+\" \")]),_vm._v(\" followings (追蹤者) \")]),_c('li',[_c('strong',[_vm._v(\" \"+_vm._s(_vm.userProfile.Followers.length)+\" \")]),_vm._v(\" followers (追隨者) \")])]),_c('form',{staticStyle:{\"display\":\"contents\"},attrs:{\"action\":\"/following/1?_method=DELETE\",\"method\":\"POST\"}},[(_vm.currentUser.id === _vm.userProfile.id)?_c('router-link',{staticClass:\"btn btn-primary\",attrs:{\"to\":{\n            name:'user-edit',\n            params: {id: _vm.userProfile.id}\n          },\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.follow(true)}}},[_vm._v(\" edit \")]):_c('div',[(_vm.userProfile.isFollowed)?_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.unFollow(_vm.userProfile.id)}}},[_vm._v(\" 取消追蹤 \")]):_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.follow(_vm.userProfile.id)}}},[_vm._v(\" 追蹤 \")])])],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card mb-3\">\n    <div class=\"row no-gutters\">\n      <div class=\"col-md-4\">\n          <img \n            :src=\"userProfile.image | emptyImage\" \n            width=\"300px\" height=\"300px\"\n          >\n      </div>\n      <div class=\"col-md-8\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">{{userProfile.name}} </h5>\n          <p class=\"card-text\">\n            {{userProfile.email}}\n          </p>\n          <ul class=\"list-unstyled list-inline\">\n            <li>\n              <strong>\n                {{userProfile.Comments.length}}\n              </strong> \n              已評論餐廳\n            </li>\n            <li>\n              <strong>\n                {{userProfile.FavoritedRestaurants.length}}\n              </strong> \n              收藏的餐廳\n            </li>\n            <li>\n              <strong>\n                {{userProfile.Followings.length}}\n              </strong> \n              followings (追蹤者)\n            </li>\n            <li>\n              <strong>\n                {{userProfile.Followers.length}}\n              </strong> \n              followers (追隨者)\n            </li>\n          </ul>\n          <form action=\"/following/1?_method=DELETE\" method=\"POST\" style=\"display: contents;\">\n            <router-link :to=\"{\n              name:'user-edit',\n              params: {id: userProfile.id}\n            }\"\n              v-if= \"currentUser.id === userProfile.id\"\n              @click.stop.prevent=\"follow(true)\"\n              type=\"submit\" \n              class=\"btn btn-primary\"\n              >\n              edit          \n            </router-link>\n            <div v-else>\n              <button \n                v-if=\"userProfile.isFollowed\"\n                @click.stop.prevent=\"unFollow(userProfile.id)\"\n                type=\"submit\" \n                class=\"btn btn-danger\">\n                取消追蹤            \n              </button>\n              <button \n                v-else\n                @click.stop.prevent=\"follow(userProfile.id)\"\n                type=\"submit\" \n                class=\"btn btn-primary\">\n                追蹤            \n              </button>\n            </div>          \n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {EmptyImageFilter} from './../utils/mixins'\nimport userAPI from './../apis/user'\nimport {Toast} from './../utils/helpers'\nexport default {\n  name: 'UserProfileCard',\n  mixins: [ EmptyImageFilter ],\n  props: {\n    initialUserprofile: {\n      type: Object,\n      required: true\n    },\n    currentUser: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      userProfile: this.initialUserprofile\n    }\n  },\n  methods: {\n   async follow(userId){\n      //TODO API請求新增最愛\n      try{\n        const {data} = await userAPI.addFollowing(userId)\n        if(data.status !== 'success'){\n          throw new Error (data.message)\n        }\n      }catch(error){\n        Toast.fire({\n          icon:'error',\n          title: '無法追蹤用戶，請稍後再試'\n        })\n      }\n      this.userProfile = {\n        ...this.userProfile,\n        isFollowed: true\n      }\n    },\n    async unFollow(userId){\n    //TODO API請求移除最愛\n      try{\n        const {data} = await userAPI.removeFollowing({userId})\n        if(data.status !== 'success'){\n          throw new Error (data.message)\n        }\n        this.userProfile = {\n          ...this.userProfile,\n          isFollowed: false\n        }\n      }catch(error){\n        Toast.fire({\n          icon:'error',\n          title: '無法取消追蹤用戶，請稍後再試'\n        })\n      }\n    }\n  },\n watch:{\n   initialUserprofile(newValue){\n     this.userProfile = {\n       ...this.userProfile,\n       ...newValue\n     }\n   }\n }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfileCard.vue?vue&type=template&id=6e6e767a&\"\nimport script from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.userFollowings.length))]),_vm._v(\" followings (追蹤者) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.userFollowings),function(following){return _c('router-link',{key:following.id,attrs:{\"to\":{\n              name: 'user',\n              params: { id: following.id} \n          }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(following.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n      <div class=\"card-header\">\n        <strong>{{ userFollowings.length }}</strong> followings (追蹤者)\n      </div>\n      <div class=\"card-body\">\n          <router-link \n            v-for=\" following in userFollowings\"\n            :key=\" following.id\"\n            :to=\"{\n                name: 'user',\n                params: { id: following.id} \n            }\"\n          >\n              <img :src=\"following.image | emptyImage\" width=\"60\" height=\"60\" class=\"avatar\">\n          </router-link>\n         \n      </div>\n    </div>\n</template>\n<script>\nimport {EmptyImageFilter} from './../utils/mixins'\nexport default {\n    name:\"UserFollowingCard\",\n    mixins: [ EmptyImageFilter ],\n    props: {\n        userFollowings:{\n            type: Array,\n            default: () => [] \n            //預設為空陣列  \n        }\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowingsCard.vue?vue&type=template&id=34c6ea7a&\"\nimport script from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.userFollowers.length))]),_vm._v(\" followers (追隨者) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.userFollowers),function(follower){return _c('router-link',{key:follower.id,attrs:{\"to\":{\n           name:'user',\n           params:{id: follower.id}\n         }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(follower.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n   <div class=\"card\">\n      <div class=\"card-header\">\n        <strong>{{ userFollowers.length }}</strong> followers (追隨者)\n      </div>\n      <div class=\"card-body\">\n           <router-link\n            v-for=\"follower in userFollowers\"\n            :key=\"follower.id\"\n            :to=\"{\n              name:'user',\n              params:{id: follower.id}\n            }\"\n            >\n            <img \n              :src=\"follower.image | emptyImage\" \n              width=\"60\" height=\"60\" \n              class=\"avatar\"\n            >\n          </router-link>\n      </div>\n    </div>\n</template>\n\n<script>\nimport {EmptyImageFilter} from './../utils/mixins'\nexport default {\n  name: 'userFollowersCard',\n  mixins: [ EmptyImageFilter ],\n  props:{\n    userFollowers: {\n      type: Array,\n      default: () => [] \n    }\n  }\n}\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowersCard.vue?vue&type=template&id=2a7e9d3f&\"\nimport script from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.userComments.length))]),_vm._v(\" 已評論餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.userComments),function(comment){return _c('router-link',{key:comment.id,attrs:{\"to\":{\n            name: 'restaurant',\n            params: {id: comment.RestaurantId}\n          }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(comment.Restaurant.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n      <div class=\"card-header\">\n        <strong>{{userComments.length}}</strong> 已評論餐廳\n      </div>\n      <div class=\"card-body\">\n          <router-link \n            v-for=\"comment in userComments\"\n            :key=\"comment.id\"\n            :to=\"{\n              name: 'restaurant',\n              params: {id: comment.RestaurantId}\n            }\"\n          >\n            <img :src=\"comment.Restaurant.image | emptyImage\" width=\"60\" height=\"60\" class=\"avatar\">\n          </router-link>\n          \n      </div>\n    </div>\n</template>\n<script>\nimport {EmptyImageFilter} from './../utils/mixins'\nexport default {\n  name: 'UserCommentsCard',\n  mixins: [ EmptyImageFilter ],\n  props: {\n    userComments: {\n      type: Array,\n      default: () => [] \n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCommentsCard.vue?vue&type=template&id=1a08db14&\"\nimport script from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.userFavoritedrestaurants.length))]),_vm._v(\" 收藏的餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.userFavoritedrestaurants),function(restaurant){return _c('router-link',{key:restaurant.id,attrs:{\"to\":{\n            name: 'restaurant',\n            id: {id: restaurant.id}\n          }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(restaurant.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n      <div class=\"card-header\">\n        <strong>{{userFavoritedrestaurants.length}}</strong> 收藏的餐廳\n      </div>\n      <div class=\"card-body\">\n          <router-link \n            v-for=\"restaurant in userFavoritedrestaurants\"\n            :key=\"restaurant.id\"\n            :to=\"{\n              name: 'restaurant',\n              id: {id: restaurant.id}\n            }\"\n          >\n            <img :src=\"restaurant.image | emptyImage\" width=\"60\" height=\"60\" class=\"avatar\">\n          </router-link>\n          \n      </div>\n    </div>\n</template>\n<script>\nimport {EmptyImageFilter} from './../utils/mixins'\nexport default {\n  name:\"UserFavoriredRestaurantCard\",\n  mixins: [ EmptyImageFilter ],\n  props: {\n    userFavoritedrestaurants: {\n      type: Array,\n      default: () => [] \n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFavoritedRestaurantsCard.vue?vue&type=template&id=38e0440e&\"\nimport script from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"album py-5 bg-light\">\n  <div class=\"container\">\n    <!-- user card -->\n    <UserProfileCard \n      :initial-userprofile=\"user\"\n      :current-user=\"currentUser\"\n    />\n    <div class=\"row\">\n      <div class=\"col-md-4\">\n      <!-- user following -->\n        <UserFollowersCard \n          :user-followers=\"user.Followers\"\n        />\n        <br>\n        <!-- user follower -->\n        <UserFollowingsCard \n          :user-followings=\"user.Followings\"\n        />\n      </div>\n      <div class=\"col-md-8\">\n          <!-- user comment card -->\n        <UserCommentsCard\n          :user-comments=\"user.Comments\"\n        />\n        <br>\n          <!-- user favorite restaurant card -->\n        <UserFavoritedRestaurantsCard \n          :user-favoritedrestaurants=\"user.FavoritedRestaurants\"\n        /> \n      </div>\n    </div>\n  </div>\n</div>\n  \n</template>\n\n<script>\nimport UserProfileCard from './../components/UserProfileCard.vue'\nimport UserFollowingsCard from './../components/UserFollowingsCard.vue'\nimport UserFollowersCard from './../components/UserFollowersCard.vue'\nimport UserCommentsCard from './../components/UserCommentsCard.vue'\nimport UserFavoritedRestaurantsCard from './../components/UserFavoritedRestaurantsCard.vue'\nimport userAPI from './../apis/user'\nimport {Toast} from './../utils/helpers'\nimport {mapState} from 'vuex'\n\n\nexport default {\n  name: \"User\",\n  components: {\n    UserProfileCard,\n    UserFollowingsCard,\n    UserFollowersCard,\n    UserCommentsCard,\n    UserFavoritedRestaurantsCard\n  },\n  data() {\n    return {\n      user:{\n        id: -1,\n        name: '',\n        email: '',\n        image: '',\n        Comments: [],\n        FavoritedRestaurants: [],\n        Followers: [],\n        Followings: [],\n        isFollowed: ''\n      }\n     \n    }\n  },\n  computed:{\n    ...mapState(['currentUser'])\n  },\n  methods: {\n    async fetchUser(userId){\n      try{\n        const {data, statusText} = await userAPI.getUser({userId})\n        if(statusText !== 'OK'){\n          throw new Error(statusText)\n        }\n        const {profile, isFollowed} = data\n        const {id, name, email, image, Comments, FavoritedRestaurants, Followers, Followings} = profile\n        this.user = {\n          id,\n          name,\n          email,\n          image,\n          Comments: Comments.filter(comment => comment.Restaurant ),\n          FavoritedRestaurants,\n          Followers,\n          Followings,\n          isFollowed\n        }\n      }catch(error){\n        Toast.fire({\n          icon: '無法載入用戶資料，請稍後再試'\n        })\n      }            \n    }   \n  },\n  created (){\n    const {id:userId} = this.$route.params\n    this.fetchUser(userId)\n  },\n  // 路由改變時，從新跟伺服器發送請求，渲染收到的資料\n  beforeRouteUpdate(to, from, next){\n    const {id:userId} = to.params\n    this.fetchUser(userId)\n    next()\n  } \n}\n</script>\n\n\n\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=1e37f0c0&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}